<div [ngStyle]="{'width.%': mobile ? '100' : '80'}" class="container-fluid fs-5">
    <h1 *ngIf="!training.id">Edzés létrehozása</h1>
    <h1 *ngIf="training.id">Edzés szerkesztése</h1>
    <form>
        <div class="mb-3" id="photo">
            <div>Fényképek feltöltése:</div>
            <input type="file" multiple>
        </div>
        <div class="mb-3">
            <label for="name" class="form-label">
                Edzés neve:
            </label>
            <input [ngStyle]="{'width.%': mobile ? '70' : '50'}" type="text" class="form-control" id="name" name="name" [(ngModel)]="training.name" required value="{{training.name}}">
        </div>
        <div class="mb-3 fs-4">
            <label>Edző neve: {{user.full_name}}</label>
        </div>
        <div class="mb-3">
            <label for="category" class="form-control-label me-3">Kategória:</label>
            <select [ngStyle]="{'width.%': mobile ? '50' : '40'}" type="text" id="category" name="category" [(ngModel)]="selectedCat" (ngModelChange)="selectCategory($event)">
                <option value=""></option>
                <option *ngFor="let cat of categories" [value]="cat.name" >{{cat.name}}</option>
            </select>
        </div>
        <div class="mb-3">
            <label for="description" class="form-control-label d-block">Edzés leírása:</label>
            <textarea [ngStyle]="{'width.%': mobile ? '70' : '50'}" type="text" name="description" id="description" cols="50" rows="8" [(ngModel)]="training.description" value="{{training.description}}"></textarea>
        </div>
        <div class="mb-3">
            <label class="form-control-label d-block">Résztvevők száma:</label>
            <input [ngStyle]="{'width.%': mobile ? '15' : '8'}" type="text" type="number" name="minMemberNumber" id="minMemberNumber" [(ngModel)]="min_member" value="{{training.min_member}}"> -
            <input [ngStyle]="{'width.%': mobile ? '15' : '8'}" type="text" type="number" name="maxMemberNumber" id="maxMemberNumber" [(ngModel)]="max_member" value="{{training.max_member}}">
        </div>
        <div class="mb-3 checks">
            <div class="form-control-label me-2">Címkék:</div>
            <ul>
                <li *ngFor="let tag of tags" class="checks">
                    <input [value]="tag.name" class="form-check-input me-2" type="checkbox" (change)="onTagChange(tag.name)" value="{{tag.name}}" id="{{tag.name}}" [checked]="checkTags(tag.name)" >
                    <label class="form-check-label" for="{{tag.name}}">
                        {{tag.name}}
                    </label>
                </li>
            </ul>
        </div>

        <div class="mb-3">
            <input class="form-check-input" type="radio" name="phone" id="phone" (change)="phone()" [checked]="!otherPhoneNumber">
            <label type="text" class="form-check-label ms-2" for="phone">
                A saját telefonszámom szeretném használni ({{user.phone_number}})
            </label>
            <br>
            <input class="form-check-input" type="radio" name="phone"  id="otherPhone" (change)="otherPhone()" [checked]="otherPhoneNumber">
            <label type="text" class="form-check-label ms-2 me-2" for="otherPhone" >
                Másik telefonszámot adok meg:
                <input type="text" id="otherPhoneNumber" name="otherPhoneNumber" [disabled]="!otherPhoneNumber" [(ngModel)]="otherPhoneNumberInput">
            </label>                           
        </div>

        <div class="mb-3">
            <button id="createButton" type="submit" class="btn btn-success fs-5" (click)="save()" (click)="open(content)">Edzés mentése</button>
            <button class="btn btn-danger ms-2 fs-5" routerLink="/mytrainings">Mégsem</button>
        </div>
    </form>
</div>

<!--Modal popup-->
<ng-template #content let-modal>
    <div class="modal-header">
        <h4 class="modal-title">{{messageTitle}}</h4>        
        <mat-icon id="close" class="close-icon" color="warn" class="close" (click)="close()">close</mat-icon>
      </div>
      <div class="modal-body">
        {{messageBox}}
      </div>
      <div class="modal-footer">
          
        <button type="button" class="btn btn-outline-dark" (click)="close()">Ok</button>
      </div>
  </ng-template>